@page "/"
@using System.Security.Claims
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager NavigationManager;
<PageTitle>Home</PageTitle>

<h1>Hello @_AccountName, you're logged in!</h1>

@* Show a layout of Tasks that are Unassigned, Not Started, In Progress or Complete *@

@code {
    private ClaimsPrincipal user;

    private string _AccountName;

    protected override async Task OnInitializedAsync()
    {

        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        user = authState.User;

        _AccountName = user.Identity.Name.Substring(0,user.Identity.Name.IndexOf("@"));
    }
}

